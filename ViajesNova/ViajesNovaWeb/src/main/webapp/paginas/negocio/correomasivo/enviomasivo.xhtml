<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<rich:popupPanel id="idModalfrenviomasivo" modal="true" width="800"
		height="500" style="background-color: #FFFFFF">

		<f:facet name="header">
			<h:outputText id="idNomModal" value="Envio Masivo" />
		</f:facet>
		<f:facet name="controls">
			<h:outputLink value="#" style="border:0"
				onclick="#{rich:component('idModalfrenviomasivo')}.hide(); return false;">
				<h:graphicImage height="18" width="18"
					url="/resources/img/close.png" style="border:0" />
			</h:outputLink>
		</f:facet>

		<h:form id="idFormEnviomasivo">

			<h:panelGrid columns="2" border="0" cellpadding="0" cellspacing="0"
				style="width:100%;" id="idGrenviomasivo">

				<f:facet name="header">
					<h:panelGrid columns="1" cellpadding="0" cellspacing="0"
						style="width:100%;">
						<h:outputText value="Envio Masivo" />
						<hr />
					</h:panelGrid>
				</f:facet>

				<h:panelGrid columns="2" cellpadding="0" cellspacing="0"
					style="width:100%;" columnClasses="col1RSPN,col2RSPN">
					<h:outputText value="Envia" />
					<h:outputText value="Promociones Viajes TerraNova" />
					<h:outputText value="Asunto" />
					<h:inputText value="#{correoMasivoMBean.correoMasivo.asunto}" />
					<h:outputText value="Contenido Correo" />
					<h:selectOneMenu value="">
						<f:selectItem itemLabel="-Seleccione-" />
					</h:selectOneMenu>
				</h:panelGrid>

				<rich:dataTable
					value="#{correoMasivoMBean.correoMasivo.listaClientes}" var="row">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Cliente" />
						</f:facet>
						<h:outputText value="#{row.nombreCompleto}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Contacto" />
						</f:facet>
						<h:outputText value="#{row.nombreCompleto}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Correo Electronico" />
						</f:facet>
						<h:outputText
							value="#{row.listaContactos[0].listaCorreos[0].direccion}" />
					</rich:column>
					<rich:column>
						<h:selectBooleanCheckbox
							value="#{row.listaContactos[0].listaCorreos[0].seleccionado}" />
					</rich:column>

				</rich:dataTable>


				<f:facet name="footer">
					<h:panelGrid border="0" cellpadding="0" cellspacing="0" columns="2"
						style="heght:50px; width:100%;text-align:center;"
						id="idBotVenServicio">

						<a4j:commandButton value="Enviar Correo"
							rendered="#{!servicioAgenteMBean.transaccionExito}"
							actionListener="#{servicioAgenteMBean.ejecutarMetodo()}"
							render="idFormHidden,idPanelHidden,idPanelBotones,idModalcorrecto,idModalError,idGrRegisVenServicio"
							oncomplete="mostrarModal('idformadmservicios')" />

						<a4j:commandButton value="Salir"
							rendered="#{servicioAgenteMBean.transaccionExito}"
							oncomplete="#{rich:component('idModalfrventaservicio')}.hide(); return false;" />

					</h:panelGrid>
				</f:facet>
			</h:panelGrid>

		</h:form>

	</rich:popupPanel>
</ui:composition>