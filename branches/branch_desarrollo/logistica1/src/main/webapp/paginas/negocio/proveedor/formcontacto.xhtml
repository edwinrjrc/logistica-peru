<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<rich:popupPanel id="idModalFormContacto" modal="true" width="800"
		height="500" style="background-color: #FFFFFF">
		<f:facet name="header">
			<h:outputText id="idNomModalContacto"
				value="#{proveedorMBean.nombreFormularioContacto}" />
		</f:facet>
		<f:facet name="controls">
			<h:outputLink value="#" style="border:0"
				onclick="#{rich:component('idModalFormContacto')}.hide(); return false;">
				<h:graphicImage height="18" width="18"
					url="/resources/img/close.png" style="border:0" />
			</h:outputLink>
		</f:facet>

		<h:form>
			<rich:tabPanel style="width:100%;">
				<rich:tab>
					<f:facet name="header">
						<h:outputText value="Contacto" />
					</f:facet>
					<h:panelGrid columns="1" style="width:100%;" border="0"
						cellpadding="0" cellspacing="0">
						<h:panelGrid border="0" cellpadding="0" cellspacing="0"
							style="width:100%;" columns="4"
							columnClasses="col1fil1proveedor,col2fil1proveedor,col3fil1proveedor,col4fil1proveedor">
							<h:outputText value="Tipo Documento" />
							<h:selectOneMenu
								value="#{proveedorMBean.contacto.documentoIdentidad.tipoDocumento.codigoEntero}">
								<f:selectItem itemLabel="-Seleccione-" />
								<f:selectItems value="#{catalogoMBean.catalogoTipoDocumento}" />
							</h:selectOneMenu>
							<h:outputText value="Numero Documento" />
							<h:inputText
								value="#{proveedorMBean.contacto.documentoIdentidad.numeroDocumento}" />
							<h:outputText value="Apellido Paterno" />
							<h:inputText value="#{proveedorMBean.contacto.apellidoPaterno}" />
							<h:outputText value="Apellido Materno" />
							<h:inputText value="#{proveedorMBean.contacto.apellidoMaterno}" />
						</h:panelGrid>
						<h:panelGrid border="0" cellpadding="0" cellspacing="0"
							style="width:100%;" columns="2"
							columnClasses="col1fil2proveedor,col2fil2proveedor">
							<h:outputText value="Nombres" for="idForProNom" />
							<h:inputText id="idForProNom"
								value="#{proveedorMBean.contacto.nombres}" />
						</h:panelGrid>
						<h:panelGrid border="0" cellpadding="0" cellspacing="0"
							style="width:100%;" columns="4"
							columnClasses="col1fil1proveedor,col2fil1proveedor,col1fil1proveedor,col2fil1proveedor">
							<h:outputText value="Area" />
							<h:selectOneMenu
								value="#{proveedorMBean.contacto.area.codigoEntero}">
								<f:selectItem itemLabel="-Seleccione-" />
								<f:selectItems value="#{catalogoMBean.catalogoArea}" />
							</h:selectOneMenu>
							<h:outputText value="Anexo" />
							<h:inputText id="idForAnexo"
								value="#{proveedorMBean.contacto.anexo}" />
						</h:panelGrid>

						<f:facet name="footer">
							<h:panelGrid columns="1" style="width:100%;text-align:center;">
								<a4j:commandButton value="Agregar"
									action="#{proveedorMBean.agregarContacto()}"
									render="idTablaContactos"
									oncomplete="#{rich:component('idModalFormContacto')}.hide(); return false;" />
							</h:panelGrid>
						</f:facet>

					</h:panelGrid>
				</rich:tab>
				<rich:tab>
					<f:facet name="header">
						<h:outputText value="Telefonos Movil" />
					</f:facet>
					<rich:dataTable value="#{proveedorMBean.contacto.listaTelefonos}"
						style="width:100%;" var="fila" id="idTablaTelefonosContacto">
						<rich:column>
							<h:outputText value="#{fila.id}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Operadora" />
							</f:facet>
							<h:selectOneMenu value="#{fila.empresaOperadora.codigoEntero}">
								<f:selectItem itemLabel="-Seleccione-" />
								<f:selectItems value="#{catalogoMBean.catalogoOperadoraMovil}" />
							</h:selectOneMenu>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="NÃºmero" />
							</f:facet>
							<h:inputText value="#{fila.numeroTelefono}"
								onkeypress="return js_soloEntero(event)">
							</h:inputText>
						</rich:column>
						<rich:column>
							<a4j:commandButton render="idTablaTelefonosContacto"
								value="Eliminar"
								action="#{proveedorMBean.eliminarTelefonoContacto(fila)}" />
						</rich:column>
						<f:facet name="header">
							<h:panelGrid columns="1" border="0" cellpadding="0"
								cellspacing="0">
								<a4j:commandButton render="idTablaTelefonosContacto"
									value="Agregar"
									action="#{proveedorMBean.agregarTelefonoContacto()}" />
							</h:panelGrid>
						</f:facet>
					</rich:dataTable>
				</rich:tab>
			</rich:tabPanel>
		</h:form>

	</rich:popupPanel>
</ui:composition>
